<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hydraulic Runby Checker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f9f9f9;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 15px;
    }
    th, td {
      padding: 8px;
      border: 1px solid #ccc;
    }
    input[type="number"] {
      width: 100px;
    }
    .safe {
      background-color: #c8e6c9; /* green */
    }
    .unsafe {
      background-color: #ffcdd2; /* red */
    }
    .instructions {
      font-size: 0.9em;
      color: #555;
    }
  </style>
</head>
<body>
  <h1>Hydraulic Lift Runby Calculator</h1>

  <form id="runbyForm">
    <table>
      <tr><th>Measurement</th><th>Value (inches)</th><th>Instructions</th></tr>
      <tr><td>Reserve Ram Travel</td><td><input type="number" name="ramTravel"></td><td class="instructions">Lower car to bottom floor. Measure visible ram or tide mark.</td></tr>
      <tr><td>Ram Head Clearance</td><td><input type="number" name="ramHead"></td><td class="instructions">Raise to top floor. Must exceed ½ ramp-to-switch + 4".</td></tr>
      <tr><td>Sill to Sill Distance</td><td><input type="number" name="sillToSill"></td><td class="instructions">Top landing sill to car sill at bottom floor.</td></tr>
      <tr><td>Ramp to Over-travel Switch</td><td><input type="number" name="rampToSwitch"></td><td class="instructions">Ramp to over-travel switch on guide rail.</td></tr>
      <tr><td>Top Runby Clearance</td><td><input type="number" name="topRunby"></td><td class="instructions">Physical clearance above top landing.</td></tr>
      <tr><td>Bottom Over-travel</td><td><input type="number" name="bottomOvertravel"></td><td class="instructions">How far car travels past lowest landing (to switch if fitted).</td></tr>
      <tr><td>Bottom Runby Clearance</td><td><input type="number" name="bottomRunby"></td><td class="instructions">From underside of car to top of buffer in pit.</td></tr>
      <tr><td>Car to Buffer Distance</td><td><input type="number" name="carToBuffer"></td><td class="instructions">Car sill to buffer top at lowest floor.</td></tr>
      <tr><td>Buffer Compression</td><td><input type="number" name="bufferCompression"></td><td class="instructions">Estimate: 50% spring or 90% polyurethane.</td></tr>
      <tr><td>Apron to Pit Floor</td><td><input type="number" name="apronToPit"></td><td class="instructions">Car apron to pit floor (while car is on buffer).</td></tr>
    </table>

    <button type="button" onclick="calculate()">Calculate</button>
  </form>

  <div id="results"></div>

  <script>
    function calculate() {
      const form = document.forms['runbyForm'];
      const rampToSwitch = parseFloat(form['rampToSwitch'].value);
      const bottomRunby = parseFloat(form['bottomRunby'].value);
      const bottomOvertravel = parseFloat(form['bottomOvertravel'].value);

      const calculatedBottomRunby = rampToSwitch / 2;
      const topSafe = rampToSwitch < bottomRunby;
      const bottomSafe = bottomOvertravel < bottomRunby;

      let result = `
        <h2>Results</h2>
        <table>
          <tr><th>Check</th><th>Result</th><th>Details</th></tr>
          <tr class="${topSafe ? 'safe' : 'unsafe'}">
            <td>Top Travel Safe?</td>
            <td>${topSafe ? '✅ SAFE' : '❌ UNSAFE'}</td>
            <td>Ramp-to-switch (${rampToSwitch}") must be &lt; bottom runby (${bottomRunby}")</td>
          </tr>
          <tr class="${bottomSafe ? 'safe' : 'unsafe'}">
            <td>Bottom Travel Safe?</td>
            <td>${bottomSafe ? '✅ SAFE' : '❌ UNSAFE'}</td>
            <td>Bottom over-travel (${bottomOvertravel}") must be &lt; bottom runby (${bottomRunby}")</td>
          </tr>
          <tr>
            <td>Calculated Bottom Runby (2:1)</td>
            <td colspan="2">${calculatedBottomRunby.toFixed(2)}"</td>
          </tr>
        </table>
      `;

      document.getElementById('results').innerHTML = result;
    }
  </script>
</body>
</html>
